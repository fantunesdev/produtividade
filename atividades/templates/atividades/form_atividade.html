{% extends "index.html" %}
{% load meus_filtros %}
{% load static %}

{% block title %} Cadastrar Atividade {% endblock title %}

{% block content %}
        <!-- INÍCIO CRONÔMETRO -->
        <div class="box box-primary box-450px" id="cronometro">
            <div class="box-header">
                <h3 class="box-title">Cronômetro</h3>
            </div>
            <div class="box-body">
                <span id="counter">00:00</span>
                <a class="btn btn-info btn-cronometro" onclick="plus()">+</a>
                <a class="btn btn-info btn-cronometro" onclick="minus()">-</a>
            </div>
            <div class="box-footer">
                <br>
                <a class="btn btn-primary" id="start" onclick="start()">Iniciar</a>
                <a class="btn btn-info" onclick="registrar()">Registrar</a>
                <a class="btn btn-danger" onclick="zerar()">Zerar</a>
                <br><br>
            </div>
        </div>
        <!-- FIM CRONÔMETRO -->

        <!-- INÍCIO FORMULÁRIO DE ATIVIDADES -->
        <div class="box box-primary center-div" id="formulario">
            <div class="box-header">
                <h3 class="box-title">Cadastro de Atividade</h3>
            </div>
            <div class="box-body">
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        {{ form_atividade.data.errors }}
                        <label for="id_data">Data:</label>
                        {{ form_atividade.data|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.area.errors }}
                        <label for="id_area">Área:</label>
                        <i class="fa-solid fa-plus padding-left-10 cursor-pointer" onclick="toggle('form-area')"></i>
                        <i class="fa-solid fa-pen-to-square padding-left-10 cursor-pointer" id="editar-area-button" onclick="update('id_area', 'area')"></i>
                        <i class="fa-solid fa-arrow-rotate-right padding-left-10 cursor-pointer" onclick="getAreas()"></i>
                        <!-- INÍCIO FORMULÁRIO ÁREA -->
                        <div class="box box-primary box-max-width-920px center-div toggled" id="form-area">
                            <div class="box-title">
                                <h3>Cadastrar Área</h3>
                            </div>
                            <div class="box-body">
                                    <input type="hidden" name="Id" id="api-area-id">

                                    <label for="api-area-nome" name="Nome">Nome: </label>
                                    <input type="text" class="form-control" id="api-area-nome">

                                    <label for="api-area-descricao" name="Descricao">Descrição: </label>
                                    <input type="text" class="form-control" id="api-area-descricao">

                                    <label for="api-area-cor" name="Cor">Cor: </label>
                                    <input type="color" class="form-control" id="api-area-cor">
                                </div>
                            <div class="box-footer">
                                    <input type="button" value="Cadastrar" class="btn btn-danger" onclick="createArea()">
                            </div>
                        </div>
                        <!-- FIM FORMULÁRIO ÁREA -->
                        {{ form_atividade.area|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.sub_area.errors }}
                        <label for="id_sub_area">Sub-Área:</label>
                        <i class="fa-solid fa-plus padding-left-10 cursor-pointer" onclick="toggle('form-subarea')"></i>
                        <i class="fa-solid fa-pen-to-square padding-left-10 cursor-pointer" onclick="update('id_sub_area', 'subarea')"></i>
                        <i class="fa-solid fa-arrow-rotate-right padding-left-10 cursor-pointer" onclick="getSubAreasRelacionadas()"></i>
                        <!-- INÍCIO FORMULÁRIO SUB-AREA -->
                        <div class="box box-primary box-max-width-920px center-div toggled" id="form-subarea">
                            <div class="box-title">
                                <h3>Cadastrar Sub-Área</h3>
                            </div>
                            <div class="box-body">
                                    <input type="hidden" name="Id" id="api-subarea-id">

                                    <label for="api-subarea-nome" name="Nome">Nome: </label>
                                    <input type="text" class="form-control" id="api-subarea-nome">

                                    <label for="api-subarea-descricao" name="Descricao">Descrição: </label>
                                    <input type="text" class="form-control" id="api-subarea-descricao">

                                    <label for="api-subarea-area" name="Area">Áreas: </label><br>
                                    <input type="checkbox" name="Conhecimento" id="checkbox-conhecimento" value="1">
                                    <label for="checkbox-conhecimento">Conhecimento</label><br>
                                    <input type="checkbox" name="Empreendedorismo" id="checkbox-empreendedorismo" value="2">
                                    <label for="checkbox-empreendedorismo">Empreendedorismo</label><br>
                                    <input type="checkbox" name="Saúde" id="checkbox-saude" value="3">
                                    <label for="checkbox-saude">Saúde</label><br>
                                    <input type="checkbox" name="Finanças" id="checkbox-financas" value="4">
                                    <label for="checkbox-financas">Finanças</label><br>
                                    <input type="checkbox" name="Tecnologia" id="checkbox-tecnologia" value="5">
                                    <label for="checkbox-tecnologia">Tecnologia</label><br>
                                    <input type="checkbox" name="Música" id="checkbox-musica" value="6">
                                    <label for="checkbox-musica">Música</label><br>
                                </div>
                            <div class="box-footer">
                                    <input type="button" value="Cadastrar" class="btn btn-danger">
                            </div>
                        </div>
                        <!-- FIM FORMULÁRIO SUB-AREA -->
                        {{ form_atividade.sub_area|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.plataforma.errors }}
                        <label for="id_plataforma">Plataforma:</label>
                        {{ form_atividade.plataforma|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.pessoa.errors }}
                        <label for="id_pessoa">Pessoa:</label>
                        {{ form_atividade.pessoa|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.descricao.errors }}
                        <label for="id_descricao">Descrição:</label>
                        {{ form_atividade.descricao|addclass:'form-control' }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.detalhamento.errors }}
                        <label for="ckeditor-init-script">Detalhamento:</label><br>
                        {{ form_atividade.media }}
                        {{ form_atividade.detalhamento|addclassplace:"form-control,Faça suas notas e observações aqui." }}
                    </div>
                    <div class="form-group">
                        {{ form_atividade.tempo.errors }}
                        <label for="id_tempo">Tempo:</label>
                        {{ form_atividade.tempo|addclass:'form-control' }}
                    </div>
                    <div>
                        <input class="btn btn-primary" type="submit" name="Cadastrar">
                        <a href="{{request.META.HTTP_REFERER}}" class="btn btn-info">Voltar</a>
                        {% block excluir %}
                        {% endblock excluir %}
                    </div>
                </form>
            </div>
        </div>
        <!-- FIM FORMULÁRIO DE ATIVIDADES -->
{% endblock %}

{% block scripts %}
    <script src="{% static 'atividades/js/cronometro.js' %}"></script>
    <script src="{% static 'atividades/js/services.js' %}"></script>
{% endblock %}

